<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Simple Calculator</title>
<style>
body{
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
  background:#111;
  font-family:Arial;
}
.calculator{
  background:#222;
  padding:20px;
  border-radius:15px;
  width:300px;
}
#display{
  width:100%;
  height:50px;
  font-size:20px;
  margin-bottom:10px;
  text-align:right;
  padding:10px;
}
button{
  width:23%;
  height:50px;
  margin:1%;
  font-size:18px;
  border:none;
  border-radius:8px;
  cursor:pointer;
}
.operator{background:#ff9500;color:white;}
.equal{background:#28a745;color:white;}
.clear{background:#dc3545;color:white;}
.history{
  margin-top:15px;
  max-height:120px;
  overflow:auto;
  background:#111;
  padding:10px;
  font-size:14px;
}
</style>
</head>
<body>

<div class="calculator">
  <input type="text" id="display" disabled>

  <div>
    <button onclick="clearDisplay()" class="clear">C</button>
    <button onclick="append('^')">^</button>
    <button onclick="append('√(')">√</button>
    <button onclick="append('/')">÷</button>

    <button onclick="append('7')">7</button>
    <button onclick="append('8')">8</button>
    <button onclick="append('9')">9</button>
    <button onclick="append('*')">×</button>

    <button onclick="append('4')">4</button>
    <button onclick="append('5')">5</button>
    <button onclick="append('6')">6</button>
    <button onclick="append('-')">−</button>

    <button onclick="append('1')">1</button>
    <button onclick="append('2')">2</button>
    <button onclick="append('3')">3</button>
    <button onclick="append('+')">+</button>

    <button onclick="append('0')">0</button>
    <button onclick="append('.')">.</button>
    <button onclick="calculate()" class="equal">=</button>
  </div>

  <div class="history" id="history"></div>
</div>

<script>
let display = document.getElementById("display");
let historyBox = document.getElementById("history");

// Load saved history
window.onload = function(){
  historyBox.innerHTML = localStorage.getItem("calcHistory") || "";
}

function append(value){
  display.value += value;
}

function clearDisplay(){
  display.value = "";
}

function calculate(){
  try{
    let expression = display.value;

    // Convert symbols to JS format
    expression = expression.replace(/√\(/g, "Math.sqrt(");
    expression = expression.replace(/\^/g, "**");

    let result = eval(expression);

    let historyEntry = display.value + " = " + result + "<br>";
    historyBox.innerHTML += historyEntry;

    // Save to localStorage
    localStorage.setItem("calcHistory", historyBox.innerHTML);

    display.value = result;
  }
  catch{
    display.value = "Error";
  }
}
</script>

</body>
</html>
